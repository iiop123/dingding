import{_ as v,L as b,Q as w,r as g,o as i,c as l,a as r,w as _,f as k,v as x,e as a,a2 as C,b as h,T as y,F as p,h as D,t as u,a0 as M,a1 as V}from"./_plugin-vue_export-helper.b0f84b05.js";const q={data(){return{list:[],auth:!0,pass:""}},methods:{query(){this.start=!1,fetch(`/query?pass=${this.pass}`,{method:"GET"}).then(e=>{if(e.ok)return e.json();throw e}).then(e=>{this.list=e.keys.filter(t=>t.metadata.date!=null),this.auth=!1,this.list.sort((t,c)=>c.metadata.date-t.metadata.date)}).catch(async e=>{const t=await e.json();alert(t.info)})},doCopy(e){this.$copyText(e).then(()=>{mdui.alert("\u590D\u5236\u6210\u529F")},()=>{mdui.alert("\u5931\u8D25")})},date(e){const t=new Date(e).getMonth()+1;return new Date(e).getFullYear()+"-"+t+"-"+new Date(e).getDate()+" "+new Date(e).getHours()+":"+new Date(e).getMinutes()},iconOver(e){document.getElementById("list_"+e).style.display="block"},iconLeave(e){document.getElementById("list_"+e).style.display="none"}},components:{Loading:b,QrcodeVue:w}},B={key:0,class:"mdui-textfield mdui-textfield-floating-label center",style:{top:"30%"}},L=a("label",{class:"mdui-textfield-label"},"PASSWORD",-1),T={class:"mdui-container"},E={key:0,class:"mdui-table-fluid center",style:{top:"50%",width:"89%",height:"70%"}},Q={class:"mdui-table mdui-table-hoverable",style:{"table-layout":"fixed"}},z={style:{"overflow-wrap":"break-word"}},F=["onMouseover","onMouseleave"],I=["id"],N=["onClick"];function O(e,t,c,j,n,o){const f=g("QrcodeVue");return i(),l(p,null,[r(y,{name:"loading"},{default:_(()=>[n.auth?(i(),l("div",B,[L,k(a("input",{class:"mdui-textfield-input","onUpdate:modelValue":t[0]||(t[0]=s=>n.pass=s),type:"password",onKeyup:t[1]||(t[1]=C((...s)=>o.query&&o.query(...s),["enter"]))},null,544),[[x,n.pass]]),a("button",{class:"mdui-btn mdui-btn-raised mdui-color-indigo mdui-text-color-white",style:{"margin-top":"10px"},onClick:t[2]||(t[2]=(...s)=>o.query&&o.query(...s))},"\u751F\u6210")])):h("",!0)]),_:1}),a("div",T,[r(y,{"enter-active-class":"animate__animated animate__zoomIn"},{default:_(()=>[n.auth?h("",!0):(i(),l("div",E,[a("table",Q,[a("tbody",null,[(i(!0),l(p,null,D(n.list,(s,d)=>(i(),l("tr",{key:d},[a("td",z,u(s.metadata.name),1),a("td",null,u(o.date(s.metadata.date)),1),a("td",null,u(Math.floor(s.metadata.size/1024/1024*100)/100)+" MB ",1),a("td",null,[a("i",{class:"iconfont icon-erweima icon",onMouseover:m=>o.iconOver(d),onMouseleave:m=>o.iconLeave(d)},[a("div",{id:"list_"+d,style:{display:"none"},class:"mdui-shadow-6 qrcode"},[r(f,{size:"80",value:s.metadata.link},null,8,["value"])],8,I)],40,F),a("button",{class:"mdui-btn mdui-btn-raised mdui-color-indigo",onClick:m=>this.doCopy(s.metadata.link)},"copy",8,N)])]))),128))])])]))]),_:1})])],64)}const S=v(q,[["render",O]]);M(S).use(V).mount("#app");
